<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to update this R package • AKesp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How to update this R package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AKesp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/install-package.html">Install package</a>
    </li>
    <li>
      <a href="../articles/query-data.html">Query data</a>
    </li>
    <li>
      <a href="../articles/create-figures.html">Create figures</a>
    </li>
    <li>
      <a href="../articles/two_pager_indicator_table.html">Create indicator tables</a>
    </li>
    <li>
      <a href="../articles/create-tables.html">Create 'traffic light' tables</a>
    </li>
    <li>
      <a href="../articles/create-ESP.html">Create ESP reports</a>
    </li>
    <li>
      <a href="../articles/use-google.html">Use Google Drive</a>
    </li>
    <li>
      <a href="../articles/update-pkg.html">Updating this package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../mailto:abigail.tyrell@noaa.gov">
    <span class="fas fa-paper-plane fa-lg"></span>

  </a>
</li>
<li>
  <a href="https://github.com/atyrell3/AKesp/issues/" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>

  </a>
</li>
<li>
  <a href="https://github.com/atyrell3/AKesp" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How to update this R package</h1>
            
      

      <div class="hidden name"><code>update-pkg.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="why-to-update-this-r-package">Why to update this R package<a class="anchor" aria-label="anchor" href="#why-to-update-this-r-package"></a>
</h2>
<p>This package is not future proof. It is possible that an update to
one of the underlying packages (ggplot2, dplyr, etc.) may affect the
ability of this code to run successfully. In that case, this package
would need to be updated to accommodate the changes in the underlying
packages (for example, by changing code syntax). Hopefully this
situation will not occur frequently, if at all.</p>
<p>It is more likely that future ESP authors and users will want to
adjust the ESP output produced by this package to better meet scientific
and management needs. In that case, the functions and templates in the R
package can be updated to reflect the desired changes.</p>
</div>
<div class="section level2">
<h2 id="how-to-update-this-r-package">How to update this R package<a class="anchor" aria-label="anchor" href="#how-to-update-this-r-package"></a>
</h2>
<p>First of all: proceed with caution. I cannot guarantee that the
package will work as intended after it is updated. That being said… all
changes <em>can</em> be reverted, so feel free to play around!</p>
<p>R package structure and best practices are described in detail <a href="https://r-pkgs.org/" class="external-link">in this ebook by Hadley Wickham and Jenny
Bryan</a>. Here I will describe the minimal amount of information needed
for an R user to start updating the package.</p>
<ol style="list-style-type: decimal">
<li><em>Update functions</em></li>
</ol>
<p>All of the R functions within the package are stored in the R folder.
Find the function you want to update and make the changes you want.
(Simple right??)</p>
<ol start="2" style="list-style-type: decimal">
<li><em>Roxygen documentation</em></li>
</ol>
<p>You will notice that each function is preceded by text with metadata
(these are the lines marked with #’). This information is automatically
turned into the help file (that you can access with the notation
<code>?function_name</code>) by the <code>roxygen2</code> package. In
short, you should update this documentation so it reflects any of the
changes you made to the function. Please refer to the <a href="https://r-pkgs.org/man.html" class="external-link">ebook documentation chapter</a> for
more details.</p>
<ol start="3" style="list-style-type: decimal">
<li><em>Reload package</em></li>
</ol>
<p>After making your changes, you need to tell R to use your updates
instead of the old version of the package. If you’re working locally,
you can run <code><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">devtools::load_all()</a></code>. If you’re ready to push
your changes to github and share them out with other AKesp package
users, you’ll need to “roxygenise” your package (which updates all the
help files) using <code><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygen2::roxygenise()</a></code> (it’s also ok to
use this instead of <code><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">devtools::load_all()</a></code>). Neither of these
functions require any arguments.</p>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<p>Here are some of the most common issues you could run into.</p>
<ol style="list-style-type: decimal">
<li><em>R folder</em></li>
</ol>
<p>The R folder should <em>only</em> include R functions and their
documentation. No lines of code! No scripts! When you load the R
package, R executes all of the code in the R folder. If you have a
script in there, R will try to run it. It will probably break (ex, if
your code is referencing data that is no longer loaded). If the package
isn’t loading, this is probably why. Make sure all unnecessary code is
commented out.</p>
<ol start="2" style="list-style-type: decimal">
<li><em>File paths</em></li>
</ol>
<p>This R package contains a lot of references to files… template files,
input files, Rmarkdown files. If any file paths are misspecified, things
will break. Also, how you think R is handling file paths may be
different from how R is actually handling file paths, especially when
using Rmarkdown. I strongly recommend using the <a href="https://github.com/jennybc/here_here" class="external-link">here R package</a> to avoid
as many file path issues as possible. However, the here package is not
foolproof with some of the idiosyncrasies of Rmarkdown, so if you are
getting “file not found” messages, I recommend printing out the file
path that R is actually using so you can figure out where things are
going wrong.</p>
<ol start="3" style="list-style-type: decimal">
<li><em>Broken packages</em></li>
</ol>
<p>Like I mentioned above, sometimes an update to one of the underlying
packages will break things. Check the documentation of the updated
package and see how their function has changed. Hopefully it will be a
simple issue (like a different default setting for a parameter), which
you can easily update in your own code.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/atyrell3" class="external-link">Abigail Tyrell</a>, <a href="https://github.com/kshotwell" class="external-link">Kalei Shotwell</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
